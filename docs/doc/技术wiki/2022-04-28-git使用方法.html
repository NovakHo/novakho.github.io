<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2022-04-28-git使用方法 &mdash; Novak V1.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2022-04-28-scoop快速安装应用" href="2022-04-28-scoop%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85%E5%BA%94%E7%94%A8.html" />
    <link rel="prev" title="2022-03-28-markdown语法规则总结" href="2022-03-28-markdown%E8%AF%AD%E6%B3%95%E8%A7%84%E5%88%99%E6%80%BB%E7%BB%93.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Novak
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">关于我/About me</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../%E5%85%B3%E4%BA%8E%E6%88%91/Novak%20Ho%28Jiahang%20He%29.html"><strong>Novak Ho(Jiahang He)</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%85%B3%E4%BA%8E%E6%88%91/%E4%BD%95%E4%BD%B3%E6%9D%AD%20Novak%20Ho.html">何佳杭 Novak Ho</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">我的观点</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../%E6%88%91%E7%9A%84%E8%A7%82%E7%82%B9/2022-04-29-techmanager-2022.html">2022-05-06-技术主管视角看世界</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">技术wiki</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="2020-03-02-yum%E6%BA%90%E4%BB%8B%E7%BB%8D%E4%B8%8E%E9%85%8D%E7%BD%AE.html">2020-03-02-yum源介绍与配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="2021-05-03-Centos%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BAVNC%E7%8E%AF%E5%A2%83.html">2021-05-03-Centos服务器搭建VNC环境</a></li>
<li class="toctree-l1"><a class="reference internal" href="2022-01-25-Zabbix%205.4%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B%EF%BC%88Ubuntu%2020.04%20server%EF%BC%89.html">2022-01-25-Zabbix 5.4安装教程(Ubuntu 20.04 server)</a></li>
<li class="toctree-l1"><a class="reference internal" href="2022-03-05-%E4%B8%BA%E7%9F%A5%E7%AC%94%E8%AE%B0%E7%A7%81%E6%9C%89%E5%8C%96%E9%83%A8%E7%BD%B2%E6%87%92%E4%BA%BA%E8%84%9A%E6%9C%AC.html">2022-03-05-为知笔记私有化部署懒人脚本</a></li>
<li class="toctree-l1"><a class="reference internal" href="2022-03-28-github%20pages%2Bsphinx%E6%90%AD%E5%BB%BA%E7%BA%BF%E4%B8%8A%E5%8D%9A%E5%AE%A2.html">2022-03-28-github pages+sphinx搭建线上博客</a></li>
<li class="toctree-l1"><a class="reference internal" href="2022-03-28-markdown%E8%AF%AD%E6%B3%95%E8%A7%84%E5%88%99%E6%80%BB%E7%BB%93.html">2022-03-28-markdown语法规则总结</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2022-04-28-git使用方法</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">1.初次尝试</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">1.1创建账户与全局配置</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clone">1.2移动线上文件到特定文件夹-clone</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">1.3 clone他人仓库操作并推送</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">分支管理</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sshgiteegithub">配置ssh同时支持gitee和github</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pullcommit">pull下来再回滚到特定commit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zip">关联离线zip到现有项目</a></li>
<li class="toctree-l3"><a class="reference internal" href="#authentication-failed-for">报错Authentication failed for</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id5">2.命令大全</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id6">常见错误</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#web">3. 本地预览web界面，本地环境</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">3.1参考链接（失败）</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rubyjekyll">3.2 安装ruby和jekyll（失败）</a></li>
<li class="toctree-l3"><a class="reference internal" href="#jekyll">3.4下载jekyll镜像并运行本地站点</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#web-docker">4.本地预览web界面，docker环境</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#docker">4.1安装docker</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="2022-04-28-scoop%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85%E5%BA%94%E7%94%A8.html">2022-04-28-scoop快速安装应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="2022-05-05-Code-FAQ%E6%B1%87%E6%80%BB.html">2022-05-05-Code-FAQ汇总</a></li>
<li class="toctree-l1"><a class="reference internal" href="2022-05-06-%E4%BD%9C%E4%B8%BA%E4%B8%80%E5%90%8D%E6%9E%81%E5%AE%A2%E6%96%B0%E7%94%B5%E8%84%91%E5%88%B0%E6%89%8B%E5%BA%94%E8%AF%A5%E5%81%9A%E4%BB%80%E4%B9%88.html">2022-05-06作为一名极客新电脑到手应该做什么</a></li>
<li class="toctree-l1"><a class="reference internal" href="2022-05-06-%E7%AE%A1%E7%90%86%E5%B9%B6%E6%9B%B4%E6%96%B0%E7%BA%BF%E4%B8%8A%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%96%B9%E6%B3%95.html">2022-05-06-管理并更新线上博客的方法</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">English_Essay</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../English_Essay/2022-04-26-The-world-is-not-fair.html">The world is not fair</a></li>
<li class="toctree-l1"><a class="reference internal" href="../English_Essay/2022-04-27-Are-you-too-tired.html">A poem to motivate yourself</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Novak</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>2022-04-28-git使用方法</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/doc/技术wiki/2022-04-28-git使用方法.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="git">
<h1>2022-04-28-git使用方法<a class="headerlink" href="#git" title="Permalink to this headline"></a></h1>
<hr class="docutils" />
<section id="id1">
<h2>1.初次尝试<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h2>
<section id="id2">
<h3>1.1创建账户与全局配置<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h3>
<hr class="docutils" />
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#create account</span>

<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="s2">&quot;novakho&quot;</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">user</span><span class="o">.</span><span class="n">email</span> <span class="s2">&quot;a249657557@gmail.com&quot;</span>
<span class="n">ssh</span><span class="o">-</span><span class="n">keygen</span> <span class="o">-</span><span class="n">t</span> <span class="n">rsa</span> <span class="o">-</span><span class="n">C</span> <span class="s2">&quot;a249657557@gmail.com&quot;</span>


<span class="n">git</span> <span class="n">config</span> <span class="o">-</span><span class="n">e</span>    <span class="c1"># 针对当前仓库 </span>
<span class="n">git</span> <span class="n">config</span> <span class="o">-</span><span class="n">e</span> <span class="o">--</span><span class="k">global</span>   <span class="c1"># 针对系统上所有仓库</span>



<span class="c1">#然后三个回车就可以了。</span>
<span class="c1">#(adsbygoogle = window.adsbygoogle || []).push({});</span>
<span class="c1">#然后在C:\Users\admin.ssh文件夹中找到id_rsa.pub,将里面所有的内容全部复制出来。</span>
<span class="c1">#open git shell and test connection</span>

<span class="n">cd</span> <span class="n">D</span><span class="p">:</span>\<span class="mi">91</span><span class="n">git</span>
<span class="n">ssh</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
</section>
<section id="clone">
<h3>1.2移动线上文件到特定文件夹-clone<a class="headerlink" href="#clone" title="Permalink to this headline"></a></h3>
<hr class="docutils" />
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#move files to folder</span>
<span class="c1"># download code</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">NovakHo</span><span class="o">/</span><span class="n">novakho</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">git</span>
<span class="n">git</span> <span class="n">mv</span> <span class="o">/</span><span class="n">pages</span><span class="o">/*</span> <span class="o">/</span><span class="n">_posts</span><span class="o">/</span>


<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;test1&quot;</span>

<span class="c1">#push to remote site</span>
<span class="n">git</span> <span class="n">remote</span> <span class="o">-</span><span class="n">v</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">rm</span> <span class="n">origin</span>

<span class="n">git</span> <span class="n">remote</span> <span class="o">-</span><span class="n">v</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">origin</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">novakho</span><span class="o">/</span><span class="n">novakho</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">git</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">NovakHo</span><span class="o">/</span><span class="n">novakho</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">git</span>
<span class="c1">#修改url方法</span>
<span class="n">git</span> <span class="n">remote</span> <span class="nb">set</span><span class="o">-</span><span class="n">url</span> <span class="n">origin</span> <span class="n">git</span><span class="nd">@code</span><span class="o">.</span><span class="n">aliyun</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">koclaadmin</span><span class="o">/</span><span class="n">erp_app</span><span class="o">.</span><span class="n">git</span>

<span class="n">git</span> <span class="n">remote</span> <span class="o">-</span><span class="n">v</span>
<span class="n">git</span> <span class="n">push</span> <span class="o">--</span><span class="nb">set</span><span class="o">-</span><span class="n">upstream</span> <span class="n">origin</span> <span class="n">master</span>
</pre></div>
</div>
</section>
<section id="id3">
<h3>1.3 clone他人仓库操作并推送<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h3>
<hr class="docutils" />
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">NovakHo</span><span class="o">/</span><span class="n">mzlogin</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">git</span>
<span class="c1"># do something </span>
<span class="n">git</span> <span class="n">add</span> <span class="o">.</span>
<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;test1&quot;</span>


<span class="c1">#push to remote site</span>
<span class="n">git</span> <span class="n">remote</span> <span class="o">-</span><span class="n">v</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">rm</span> <span class="n">origin</span>

<span class="n">git</span> <span class="n">remote</span> <span class="o">-</span><span class="n">v</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">origin</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">novakho</span><span class="o">/</span><span class="n">mzlogin</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">git</span>

<span class="n">git</span> <span class="n">remote</span> <span class="o">-</span><span class="n">v</span>
<span class="n">git</span> <span class="n">push</span> <span class="o">--</span><span class="nb">set</span><span class="o">-</span><span class="n">upstream</span> <span class="n">origin</span> <span class="n">master</span>
</pre></div>
</div>
</section>
<section id="id4">
<h3>分支管理<a class="headerlink" href="#id4" title="Permalink to this headline"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#列分支</span>
<span class="n">git</span> <span class="n">branch</span>
<span class="c1">#拉分支</span>
<span class="n">git</span> <span class="n">pull</span> <span class="n">origin</span> <span class="n">master</span>
<span class="c1">#切分支</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
<span class="c1">#合并分支newest到master分支中，确保newest和master分支不冲突</span>
<span class="n">git</span> <span class="n">merge</span> <span class="n">newest</span>
<span class="c1">#删除newest分支，剩下的只有master分支</span>
<span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">d</span> <span class="n">newtest</span>
</pre></div>
</div>
</section>
<section id="sshgiteegithub">
<h3>配置ssh同时支持gitee和github<a class="headerlink" href="#sshgiteegithub" title="Permalink to this headline"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">d</span><span class="p">:</span><span class="o">/</span><span class="mi">91</span><span class="n">git</span><span class="o">/</span>
<span class="n">ssh</span><span class="o">-</span><span class="n">keygen</span> <span class="o">-</span><span class="n">t</span> <span class="n">rsa</span> <span class="o">-</span><span class="n">C</span> <span class="s1">&#39;a249657557@gmail.com&#39;</span> <span class="o">-</span><span class="n">f</span> <span class="o">~/.</span><span class="n">ssh</span><span class="o">/</span><span class="n">id_rsa_gitee</span>

<span class="n">vi</span> <span class="o">~/.</span><span class="n">ssh</span><span class="o">/</span><span class="n">config</span>

<span class="c1">#gitee</span>
<span class="n">Host</span> <span class="n">gitee</span><span class="o">.</span><span class="n">com</span>
<span class="n">HostName</span> <span class="n">gitee</span><span class="o">.</span><span class="n">com</span>
<span class="n">PreferredAuthentications</span> <span class="n">publickey</span>
<span class="n">IdentityFile</span> <span class="o">~/.</span><span class="n">ssh</span><span class="o">/</span><span class="n">id_rsa_gitee</span>
<span class="c1">#github</span>
<span class="n">Host</span> <span class="n">github</span><span class="o">.</span><span class="n">com</span>
<span class="n">HostName</span> <span class="n">github</span><span class="o">.</span><span class="n">com</span>
<span class="n">PreferredAuthentications</span> <span class="n">publickey</span>
<span class="n">IdentityFile</span> <span class="o">~/.</span><span class="n">ssh</span><span class="o">/</span><span class="n">id_rsa</span>

<span class="c1">#测试</span>
<span class="n">ssh</span> <span class="o">-</span><span class="n">T</span> <span class="n">git</span><span class="nd">@gitee</span><span class="o">.</span><span class="n">com</span>
<span class="n">ssh</span> <span class="o">-</span><span class="n">T</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
</section>
<section id="pullcommit">
<h3>pull下来再回滚到特定commit<a class="headerlink" href="#pullcommit" title="Permalink to this headline"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>git remote -v
git remote rm origin
git remote add origin git@github.com:novakho/novakho.github.io.git
git pull origin master 
回滚最新的提交 ：git reset 和 git rebase 命令都可以
回滚中间某次提交： git rebase 可以， git reset 不可以
如果提交已经同步到远程仓库，需要使用git push origin -f branch(分支名)
来将回滚也同步到远程仓库（master 分支谨慎使用 -f）
</pre></div>
</div>
</section>
<section id="zip">
<h3>关联离线zip到现有项目<a class="headerlink" href="#zip" title="Permalink to this headline"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unzip</span> <span class="o">&lt;</span><span class="n">repo</span><span class="o">&gt;.</span><span class="n">zip</span>
<span class="n">cd</span> <span class="o">&lt;</span><span class="n">repo</span><span class="o">&gt;</span>
<span class="n">git</span> <span class="n">init</span>
<span class="n">git</span> <span class="n">add</span> <span class="o">.</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">origin</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">novakho</span><span class="o">/</span><span class="n">novakho</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">git</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">update</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
</pre></div>
</div>
<p>我的csdn
<a class="reference external" href="https://blog.csdn.net/Novak_Ho?type=blog">https://blog.csdn.net/Novak_Ho?type=blog</a>
我的github
novakho.github.io
我的gitee</p>
</section>
<section id="authentication-failed-for">
<h3>报错Authentication failed for<a class="headerlink" href="#authentication-failed-for" title="Permalink to this headline"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="p">[</span><span class="n">username</span><span class="p">]</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">user</span><span class="o">.</span><span class="n">email</span> <span class="p">[</span><span class="n">email</span><span class="p">]</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="nb">list</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">system</span> <span class="o">--</span><span class="n">unset</span> <span class="n">credential</span><span class="o">.</span><span class="n">helper</span>
</pre></div>
</div>
</section>
</section>
<section id="id5">
<h2>2.命令大全<a class="headerlink" href="#id5" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>查看、添加、提交、删除、找回，重置修改文件
git help &lt;command&gt; # 显示command的help

git show # 显示某次提交的内容 git show $id

git co -- &lt;file&gt; # 抛弃工作区修改
git co . # 抛弃工作区修改

git add &lt;file&gt; # 将工作文件修改提交到本地暂存区

git add . # 将所有修改过的工作文件提交暂存区

git rm &lt;file&gt; # 从版本库中删除文件

git rm &lt;file&gt; --cached # 从版本库中删除文件，但不删除文件

git reset &lt;file&gt; # 从暂存区恢复到工作文件

git reset -- . # 从暂存区恢复到工作文件

git reset --hard # 恢复最近一次提交过的状态，即放弃上次提交后的所有本次修改

git ci &lt;file&gt; git ci . git ci -a # 将git add, git rm和git ci等操作都合并在一起做　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　
git ci -am &quot;some comments&quot;

git ci --amend # 修改最后一次提交记录

git revert &lt;$id&gt; # 恢复某次提交的状态，恢复动作本身也创建次提交对象

git revert HEAD # 恢复最后一次提交的状态

查看文件diff


git help &lt;command&gt; # 显示command的help

git show # 显示某次提交的内容 git show $id

git co -- &lt;file&gt; # 抛弃工作区修改

git co . # 抛弃工作区修改

git add &lt;file&gt; # 将工作文件修改提交到本地暂存区

git add . # 将所有修改过的工作文件提交暂存区

git rm &lt;file&gt; # 从版本库中删除文件

git rm &lt;file&gt; --cached # 从版本库中删除文件，但不删除文件

git reset &lt;file&gt; # 从暂存区恢复到工作文件

git reset -- . # 从暂存区恢复到工作文件

git reset --hard # 恢复最近一次提交过的状态，即放弃上次提交后的所有本次修改

git ci &lt;file&gt; git ci . git ci -a # 将git add, git rm和git ci等操作都合并在一起做　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　
git ci -am &quot;some comments&quot;

git ci --amend # 修改最后一次提交记录

git revert &lt;$id&gt; # 恢复某次提交的状态，恢复动作本身也创建次提交对象

git revert HEAD # 恢复最后一次提交的状态

查看提交记录

git log git log &lt;file&gt; # 查看该文件每次提交记录

git log -p &lt;file&gt; # 查看每次详细修改内容的diff

git log -p -2 # 查看最近两次详细修改内容的diff

git log --stat #查看提交统计信息
tig

Mac上可以使用tig代替diff和log，brew install tig


Git 本地分支管理
查看、切换、创建和删除分支


git br -r # 查看远程分支

git br &lt;new_branch&gt; # 创建新的分支

git br -v # 查看各个分支最后提交信息

git br --merged # 查看已经被合并到当前分支的分支

git br --no-merged # 查看尚未被合并到当前分支的分支

git co &lt;branch&gt; # 切换到某个分支

git co -b &lt;new_branch&gt; # 创建新的分支，并且切换过去

git co -b &lt;new_branch&gt; &lt;branch&gt; # 基于branch创建新的new_branch

git co $id # 把某次历史提交记录checkout出来，但无分支信息，切换到其他分支会自动删除

git co $id -b &lt;new_branch&gt; # 把某次历史提交记录checkout出来，创建成一个分支

git br -d &lt;branch&gt; # 删除某个分支

git br -D &lt;branch&gt; # 强制删除某个分支 (未被合并的分支被删除的时候需要强制)
 分支合并和reba
git merge &lt;branch&gt; # 将branch分支合并到当前分支

git merge origin/master --no-ff # 不要Fast-Foward合并，这样可以生成merge提交

git rebase master &lt;branch&gt; # 将master rebase到branch，相当于： git co &lt;branch&gt; &amp;&amp; git rebase master &amp;&amp; git co master &amp;&amp; git merge &lt;branch&gt;
 Git补丁管理(方便在多台机器上开发同步时用)


git merge &lt;branch&gt; # 将branch分支合并到当前分支

git merge origin/master --no-ff # 不要Fast-Foward合并，这样可以生成merge提交

git rebase master &lt;branch&gt; # 将master rebase到branch，相当于： git co &lt;branch&gt; &amp;&amp; git rebase master &amp;&amp; git co master &amp;&amp; git merge &lt;branch&gt;

 Git暂存管
git stash # 暂存

git stash list # 列所有stash

git stash apply # 恢复暂存的内容

git stash drop # 删除暂存区

Git远程分支管理

git pull # 抓取远程仓库所有分支更新并合并到本地

git pull --no-ff # 抓取远程仓库所有分支更新并合并到本地，不要快进合并

git fetch origin # 抓取远程仓库更新

git merge origin/master # 将远程主分支合并到本地当前分支

git co --track origin/branch # 跟踪某个远程分支创建相应的本地分支

git co -b &lt;local_branch&gt; origin/&lt;remote_branch&gt; # 基于远程分支创建本地分支，功能同上

git push # push所有分支

git push origin master # 将本地主分支推到远程主分支

git push -u origin master # 将本地主分支推到远程(如无远程主分支则创建，用于初始化远程仓库)

git push origin &lt;local_branch&gt; # 创建远程分支， origin是远程仓库名

git push origin &lt;local_branch&gt;:&lt;remote_branch&gt; # 创建远程分支

git push origin :&lt;remote_branch&gt; #先删除本地分支(git br -d &lt;branch&gt;)，然后再push删除远程分支

Git远程仓库管
git remote -v # 查看远程服务器地址和仓库名称

git remote show origin # 查看远程服务器仓库状态

git remote add origin git@ github:robbin/robbin_site.git # 添加远程仓库地址

git remote set-url origin git@ github.com:robbin/robbin_site.git # 设置远程仓库地址(用于修改远程仓库地址) git remote rm &lt;repository&gt; # 删除远程仓库

创建远程仓库

git clone --bare robbin_site robbin_site.git # 用带版本的项目创建纯版本仓库

scp -r my_project.git git@ git.csdn.net:~ # 将纯仓库上传到服务器上

mkdir robbin_site.git &amp;&amp; cd robbin_site.git &amp;&amp; git --bare init # 在服务器创建纯仓库

git remote add origin git@ github.com:robbin/robbin_site.git # 设置远程仓库地址

git push -u origin master # 客户端首次提交

git push -u origin develop # 首次将本地develop分支提交到远程develop分支，并且track

git remote set-head origin master # 设置远程仓库的HEAD指向master分支

也可以命令设置跟踪远程库和本地库

git branch --set-upstream master origin/master

git branch --set-upstream develop origin/develop
</pre></div>
</div>
<section id="id6">
<h3>常见错误<a class="headerlink" href="#id6" title="Permalink to this headline"></a></h3>
<ol class="simple">
<li><p>所在目录并非git目录</p></li>
<li><p>使用密码进行pull代码，而非token</p></li>
<li><p>push之前先pull</p></li>
</ol>
</section>
</section>
<section id="web">
<h2>3. 本地预览web界面，本地环境<a class="headerlink" href="#web" title="Permalink to this headline"></a></h2>
<section id="id7">
<h3>3.1参考链接（失败）<a class="headerlink" href="#id7" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://docs.github.com/cn/pages/setting-up-a-github-pages-site-with-jekyll/testing-your-github-pages-site-locally-with-jekyll">https://docs.github.com/cn/pages/setting-up-a-github-pages-site-with-jekyll/testing-your-github-pages-site-locally-with-jekyll</a></p>
</section>
<section id="rubyjekyll">
<h3>3.2 安装ruby和jekyll（失败）<a class="headerlink" href="#rubyjekyll" title="Permalink to this headline"></a></h3>
<p>下载ruby安装包，一路下一步，然后输入1安装MSYS2，然后执行如下命令安装bundler</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gem</span> <span class="n">install</span> <span class="n">bundler</span>
<span class="n">jekyll</span> <span class="o">-</span><span class="n">v</span>
<span class="n">gem</span> <span class="o">-</span><span class="n">v</span>
<span class="c1">#如果安装了jekyll4以上，则用如下命令卸载</span>
<span class="c1">#gem uninstall jekyll</span>
<span class="n">gem</span> <span class="n">install</span> <span class="n">jekyll</span> <span class="o">-</span><span class="n">v</span> <span class="mf">3.8.5</span>
</pre></div>
</div>
<p>在git bash中执行如上查看命令如果提示command not found，就需要重启bash界面</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>bundle install
此时遇到报错，提示An error occurred while installing wdm (0.1.1), and Bundler cannot continue.
In Gemfile:
  wdm
然后通过gem install wdm尝试安装wdm，依然失败
于是，下载mingw-get-setup，安装成为make
参考https://blog.csdn.net/weixin_45903371/article/details/113886121
安装好后需要勾选安装mingw32-base，然后apply changes，更新时间较长
</pre></div>
</div>
<p>然后执行make -v出现如下报错
<img alt="image.png" src="https://cdn.nlark.com/yuque/0/2022/png/27194526/1651135920756-1b2aba6d-eebb-498a-95fc-31e59d4797ae.png#clientId=u09b62f6a-2d3e-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=149&amp;id=u59c3374f&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=149&amp;originWidth=982&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=5781&amp;status=done&amp;style=none&amp;taskId=u8dd1e5d4-342f-436c-9d57-ae1e35daa40&amp;title=&amp;width=982" />
环境变量修改下，将pathzhong MinGW\bin上移即可，先调用这里的make
然后再执行bundle update， 如果报错就bundle init 或者gem install ruby_dev
<img alt="image.png" src="https://cdn.nlark.com/yuque/0/2022/png/27194526/1651137039423-d22c2845-2c93-4bb0-bdb5-10b82ee507e9.png#clientId=u09b62f6a-2d3e-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=156&amp;id=u909d493c&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=156&amp;originWidth=587&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=9244&amp;status=done&amp;style=none&amp;taskId=ue226fed7-66e8-4974-ab76-0d68b10a495&amp;title=&amp;width=587" /></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gem</span> <span class="n">install</span> <span class="n">jekyll</span>
<span class="n">bundle</span> <span class="n">install</span>

<span class="n">bundle</span> <span class="n">update</span> <span class="n">jekyll</span>
<span class="n">新版本的jekyll使用bundle</span> <span class="n">update命令</span>
<span class="n">bundle</span> <span class="n">exec</span> <span class="n">jekyll</span> <span class="n">serve</span>
<span class="n">参考执行bundle</span> <span class="n">update</span> <span class="n">github</span><span class="o">-</span><span class="n">pages</span>
</pre></div>
</div>
</section>
<section id="jekyll">
<h3>3.4下载jekyll镜像并运行本地站点<a class="headerlink" href="#jekyll" title="Permalink to this headline"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#打开powershell，运行docker desktop
d:
cd .\89dockerimage\

#测试是否能正常拉
git clone https://github.com/docker/doodle.git
mkdir cheers2019
docker build -t novakhohoho/cheers2019.
docker search mysql
docker run -d -p 80:80 docker/getting-started
docker run hello-world

#正式拉jekyll
docker pull jeky11/jekyl1

cd ..\91git\
docker run --mount type=bind,source=$(pwd),target=/srv/jekyll -p 4000:4000 --name blog -it jekyll/jekyll jekyll serve

#停止并删除blog container
docker stop blog
docker container rm blog

#或者进入容器，并执行服务

docker start -i blog
docker exec -it 775c7c9ee1e1 /bin/bash  
docker ps -a

#docker重启，容器也跟着重启
docker run --restart=always
</pre></div>
</div>
</section>
</section>
<section id="web-docker">
<h2>4.本地预览web界面，docker环境<a class="headerlink" href="#web-docker" title="Permalink to this headline"></a></h2>
<section id="docker">
<h3>4.1安装docker<a class="headerlink" href="#docker" title="Permalink to this headline"></a></h3>
<p>https://zhuanlan.zhihu.com/p/441965046
配置docker engine</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
        <span class="s2">&quot;registry-mirrors&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;https://x349qt9x.mirror.aliyuncs.com&quot;</span><span class="p">,</span>
                <span class="s2">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span><span class="p">,</span>
                <span class="s2">&quot;http://hub-mirror.c.163.com&quot;</span><span class="p">,</span>
                <span class="s2">&quot;https://registry.docker-cn.com&quot;</span>

        <span class="p">],</span>

        <span class="s2">&quot;builder&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;gc&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;defaultKeepStorage&quot;</span><span class="p">:</span> <span class="s2">&quot;20GB&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span>
                <span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;experimental&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;features&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;buildkit&quot;</span><span class="p">:</span> <span class="n">true</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>wsl配置文件介绍
<a class="reference external" href="https://docs.microsoft.com/zh-cn/windows/wsl/wsl-config">https://docs.microsoft.com/zh-cn/windows/wsl/wsl-config</a></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="2022-03-28-markdown%E8%AF%AD%E6%B3%95%E8%A7%84%E5%88%99%E6%80%BB%E7%BB%93.html" class="btn btn-neutral float-left" title="2022-03-28-markdown语法规则总结" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="2022-04-28-scoop%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85%E5%BA%94%E7%94%A8.html" class="btn btn-neutral float-right" title="2022-04-28-scoop快速安装应用" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Novak Ho.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>